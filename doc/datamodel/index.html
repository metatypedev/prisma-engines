<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Prisma Schema Language implementation"><meta name="keywords" content="rust, rustlang, rust-lang, datamodel"><title>datamodel - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../datamodel/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../datamodel/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate datamodel</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../datamodel/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">datamodel</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/datamodel/lib.rs.html#1-205">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="prisma-schema-language-implementation"><a href="#prisma-schema-language-implementation">Prisma Schema Language implementation</a></h2><h3 id="overview"><a href="#overview">Overview</a></h3>
<p>This crate is the public API for working with Prisma schemas: parsing and
validating their string representation, analyzing them, providing convenient
APIs, rendering, reformatting, etc. It is the main implementation of the Prisma
Schema Language, and it is used by all Prisma engines in this repository.</p>
<p>The query engine further processes Prisma schemas to produce the client API,
and the DMMF JSON format.</p>
<h4 id="design-goals"><a href="#design-goals">Design goals</a></h4>
<ul>
<li>Strict parsing: a duplicate attribute, unknown attribute, unknown argument or extra argument is an error.</li>
<li>Expose a <em>convenient</em> and <em>obvious</em> / hard-to-misuse public API.</li>
<li>Expose the source information (AST node spans, etc) in the parsed schema.</li>
<li>Accumulate errors to present them at the end instead of returning early.</li>
</ul>
<h3 id="usage"><a href="#usage">Usage</a></h3>
<p>Please see <a href="src/lib.rs"><code>lib.rs</code></a> and the <a href="https://prisma.github.io/prisma-engines/doc/datamodel/">rustdoc documentation</a> for the public API.</p>
<p>Main use-case, parsing a string to datamodel:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">let</span> <span class="ident">file</span> <span class="op">=</span> <span class="ident">std::fs::read_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">args</span>[<span class="number">1</span>]).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">validated_schema</span> <span class="op">=</span> <span class="ident">datamodel::parse_schema_parserdb</span>(<span class="kw-2">&amp;</span><span class="ident">file</span>)<span class="question-mark">?</span>;</code></pre></div>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.datamodel_connector"><code>pub use <a class="mod" href="../datamodel_connector/index.html" title="mod datamodel_connector">datamodel_connector</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.diagnostics"><code>pub use <a class="mod" href="../diagnostics/index.html" title="mod diagnostics">diagnostics</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.dml"><code>pub use <a class="mod" href="../dml/index.html" title="mod dml">dml</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item" id="reexport.parser_database"><code>pub use <a class="mod" href="../parser_database/index.html" title="mod parser_database">parser_database</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="builtin_connectors/index.html" title="datamodel::builtin_connectors mod">builtin_connectors</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="common/index.html" title="datamodel::common mod">common</a></div><div class="item-right docblock-short"><p>This module contains shared constants and logic that can be used by engines.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="mcf/index.html" title="datamodel::mcf mod">mcf</a></div><div class="item-right docblock-short"><p><code>mcf</code>: Turns a collection of <code>configuration::Datasource</code> and <code>configuration::Generator</code> into a
JSON representation. This is the <code>get_config()</code> representation.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Configuration.html" title="datamodel::Configuration struct">Configuration</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Datasource.html" title="datamodel::Datasource struct">Datasource</a></div><div class="item-right docblock-short"><p>a <code>datasource</code> from the prisma schema.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Generator.html" title="datamodel::Generator struct">Generator</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StringFromEnvVar.html" title="datamodel::StringFromEnvVar struct">StringFromEnvVar</a></div><div class="item-right docblock-short"><p>Either an env var or a string literal.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Validated.html" title="datamodel::Validated struct">Validated</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ValidatedSchema.html" title="datamodel::ValidatedSchema struct">ValidatedSchema</a></div><div class="item-right docblock-short"></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.is_reserved_type_name.html" title="datamodel::is_reserved_type_name fn">is_reserved_type_name</a></div><div class="item-right docblock-short"><p>Is this a valid type name for the Prisma client API?</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.parse_configuration.html" title="datamodel::parse_configuration fn">parse_configuration</a></div><div class="item-right docblock-short"><p>Loads all configuration blocks from a datamodel using the built-in source definitions.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.parse_datamodel.html" title="datamodel::parse_datamodel fn">parse_datamodel</a></div><div class="item-right docblock-short"><p>Parses and validates a datamodel string, using core attributes only.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.parse_schema.html" title="datamodel::parse_schema fn">parse_schema</a></div><div class="item-right docblock-short"><p>Parse and validate the whole schema</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.parse_schema_ast.html" title="datamodel::parse_schema_ast fn">parse_schema_ast</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.parse_schema_parserdb.html" title="datamodel::parse_schema_parserdb fn">parse_schema_parserdb</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.reformat.html" title="datamodel::reformat fn">reformat</a></div><div class="item-right docblock-short"><p>Returns either the reformatted schema, or the original input if we can’t reformat. This happens
if and only if the source does not parse to a well formed AST.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.render_datamodel_and_config_to_string.html" title="datamodel::render_datamodel_and_config_to_string fn">render_datamodel_and_config_to_string</a></div><div class="item-right docblock-short"><p>Renders a datamodel, sources and generators.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.render_datamodel_to_string.html" title="datamodel::render_datamodel_to_string fn">render_datamodel_to_string</a></div><div class="item-right docblock-short"><p>Renders the datamodel <em>without configuration blocks</em>.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ValidatedConfiguration.html" title="datamodel::ValidatedConfiguration type">ValidatedConfiguration</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ValidatedDatamodel.html" title="datamodel::ValidatedDatamodel type">ValidatedDatamodel</a></div><div class="item-right docblock-short"></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="datamodel" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>